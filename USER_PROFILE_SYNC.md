# User Profile Synchronization Between Auth Service and User Service

## Overview
To ensure every user registered in the authentication service also has a corresponding profile in the user service, the auth service must create a user profile immediately after successful registration.

## Required Action for Auth Service

After a user is successfully registered in the auth service:

1. **Make a POST request to the user service to create a user profile.**

### Endpoint
```
POST https://<user-service-domain>/api/user/profile
```

### Request Body (JSON)
```
{
  "id": "<user_id>",        // The unique user ID from the auth service
  "email": "<user_email>",  // The user's email
  "name": "<user_name>"     // The user's name (if available)
}
```

### Headers
- `Content-Type: application/json`
- (Optional) `Authorization` header if required by the user service

### Example (Python, using httpx)
```python
import httpx

def register_user(...):
    # ... existing registration logic ...
    # On success:
    user_profile = {
        "id": user_id,      # The user ID generated by the auth service
        "email": email,     # The user's email
        "name": name        # The user's name
    }
    try:
        response = httpx.post(
            "https://<user-service-domain>/api/user/profile",
            json=user_profile,
            timeout=10
        )
        response.raise_for_status()
    except Exception as e:
        # Log error, but don't block registration
        print(f"Failed to create user profile: {e}")
```

## User Service Requirements
- Accept the POST request at `/api/user/profile`.
- Create a new user profile with the provided `id`, `email`, and `name`.
- Set `createdAt` and `updatedAt` to the current time.
- Return a success response.

## Why This Is Important
- Ensures all users in the auth service have a corresponding profile in the user service.
- Prevents data inconsistencies and missing user profiles.
- Enables seamless user experience across services.

---

**Contact the backend team if you have questions or need help implementing this integration.** 